{"version":3,"file":"main.js","mappings":"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","sources":["webpack://stator/./apps/cli/src/commands/enforce-file-folder-naming-convention.ts","webpack://stator/./apps/cli/src/commands/enforce-valid-imports-api.ts","webpack://stator/./apps/cli/src/commands/generate-cache-key-file.ts","webpack://stator/./apps/cli/src/commands/generate-entity-index-file.ts","webpack://stator/./apps/cli/src/commands/rename-project.ts","webpack://stator/./apps/cli/src/utils.ts","webpack://stator/external commonjs \"clipanion\"","webpack://stator/external commonjs \"lodash/camelCase\"","webpack://stator/external commonjs \"lodash/capitalize\"","webpack://stator/external commonjs \"lodash/kebabCase\"","webpack://stator/external commonjs \"tslib\"","webpack://stator/external node-commonjs \"fs\"","webpack://stator/external node-commonjs \"path\"","webpack://stator/webpack/bootstrap","webpack://stator/./apps/cli/src/main.ts"],"sourcesContent":["import path from \"path\"\n\nimport { Command } from \"clipanion\"\n\nimport { walk } from \"../utils\"\n\nexport class EnforceFileFolderNamingConvention extends Command {\n  static paths = [[\"enforce-file-folder-naming-convention\"]]\n\n  static usage = Command.Usage({\n    category: \"enforcers\",\n    description: \"This script will make sure that your folders and file use kebab-case.\",\n    examples: [[\"A basic example\", \"npm run stator-cli generate-cache-key-file\"]],\n  })\n\n  async execute(): Promise<number | void> {\n    const ignoredPaths = [\n      \"node_modules\",\n      \"dist\",\n      \".git\",\n      \".idea\",\n      \".gitkeep\",\n      \".eslintrc\",\n      \".cache\",\n      \"README\",\n      \"LICENSE\",\n      \"CONTRIBUTING\",\n      \"dockerfiles\",\n      \"Dockerfile\",\n    ]\n    const capitalLetterRegex = /[A-Z]/gm\n    const errorPathPaths = []\n\n    function validateEntryName(entry) {\n      const entryName = path.basename(entry).replace(/\\.[^/.]+$/, \"\")\n      if (entryName.length > 0 && !ignoredPaths.includes(entryName) && entryName.match(capitalLetterRegex)) {\n        errorPathPaths.push(entry)\n      }\n    }\n\n    const folderNames = []\n    for await (const entry of walk(path.join(__dirname, \"..\"), ignoredPaths, folderNames)) {\n      validateEntryName(entry)\n    }\n\n    for (const folderName of folderNames) {\n      validateEntryName(folderName)\n    }\n\n    if (errorPathPaths.length > 0) {\n      const errorMessage = `${errorPathPaths.length} files/directories do not respect the kebab-case convention enforced.`\n\n      console.error(errorMessage)\n      console.error(errorPathPaths)\n\n      process.exit(1)\n    }\n\n    console.info(\"Congratulations, all your files and directories are properly named!\")\n  }\n}\n","import fs from \"fs\"\nimport path from \"path\"\n\nimport { Command } from \"clipanion\"\n\nimport { walk } from \"../utils\"\n\nexport class EnforceValidImportsApi extends Command {\n  static paths = [[\"enforce-valid-imports-api\"]]\n\n  static usage = Command.Usage({\n    category: \"enforcers\",\n    description:\n      \"This script will make sure that your imports are valid in the API. This is used to avoid import errors than can be hard to spot.\",\n    examples: [[\"A basic example\", \"npm run stator-cli enforce-valid-imports-api\"]],\n  })\n\n  async execute(): Promise<number | void> {\n    const invalidImportRegex = /import .*stator\\/[a-zA-Z]+\\//gm\n    const fileContainingInvalidImports = []\n\n    async function validateEntryName(entry) {\n      const fileContent = await fs.promises.readFile(entry, { encoding: \"utf-8\" })\n      const match = fileContent.match(invalidImportRegex)\n      if (match) {\n        fileContainingInvalidImports.push(entry)\n      }\n    }\n\n    for await (const entry of walk(path.join(__dirname, \"../apps/api/src\"), [])) {\n      await validateEntryName(entry)\n    }\n\n    if (fileContainingInvalidImports.length > 0) {\n      const errorMessage = `${fileContainingInvalidImports.length} file(s) have invalid imports. They should NOT look like this: \"@stator/models/something/entity\"`\n\n      console.error(errorMessage)\n      console.error(fileContainingInvalidImports)\n\n      process.exit(1)\n    }\n\n    console.info(\"Congratulations, all your imports in api are valid!\")\n  }\n}\n","import fs from \"fs\"\nimport path from \"path\"\n\nimport { Command } from \"clipanion\"\nimport camelCase from \"lodash/camelCase\"\nimport capitalize from \"lodash/capitalize\"\nimport kebabCase from \"lodash/kebabCase\"\n\nimport { walk } from \"../utils\"\n\nexport class GenerateCacheKeyFile extends Command {\n  static paths = [[\"generate-cache-key-file\"]]\n\n  static usage = Command.Usage({\n    category: \"generators\",\n    description: \"This script will generate the required cache key files for your redux webapp.\",\n    examples: [[\"A basic example\", \"npm run stator-cli generate-cache-key-file\"]],\n  })\n\n  async execute(): Promise<number | void> {\n    const endpointsPath = path.join(__dirname, \"../apps/webapp/src/redux/endpoints\")\n    const importStatements = []\n    const cacheKeys = []\n    let cacheFileContent = `/**\n * This file was automatically generated by tools/generators/generate-cache-file.js file\n */\n\nIMPORT_STATEMENTS\n\n`\n\n    for await (const pathName of walk(endpointsPath, [])) {\n      const isEndpointsFile = fs.lstatSync(pathName).isFile() && pathName.includes(\"-endpoints\")\n      if (isEndpointsFile) {\n        const cacheKey = camelCase(path.basename(pathName, \".ts\").replace(\"-endpoints\", \"\"))\n        cacheKeys.push(cacheKey)\n        const endpointsSelectorRegex = /build => \\(({[\\s\\S]+overrideExisting: false,\\s+})/m\n        const endpointsObjectString = fs.readFileSync(pathName, { encoding: \"utf8\" }).match(endpointsSelectorRegex)[1]\n        const endpointSelectorRegex = /([a-z-A-Z]+): build.[qm]/gm\n        const endpointNames = [...endpointsObjectString.matchAll(endpointSelectorRegex)].map(entries => [entries[1]]).flat()\n\n        if (endpointNames.length > 0) {\n          importStatements.push(`import { ${cacheKey}Api } from \"./${kebabCase(cacheKey)}-endpoints\"`)\n          cacheFileContent += `export const add${capitalize(cacheKey)}CacheKeys = () =>\n  ${cacheKey}Api.enhanceEndpoints({\n    endpoints: {\n${endpointNames\n  .map(endpointName => {\n    const tagPropertyKey = endpointName.includes(\"get\") ? \"providesTags\" : \"invalidatesTags\"\n    return `      ${endpointName}: { ${tagPropertyKey}: [\"${cacheKey}\"] },`\n  })\n  .join(\"\\n\")}\n    },\n  })\\n`\n        }\n      }\n    }\n\n    cacheFileContent = cacheFileContent.replace(\"IMPORT_STATEMENTS\", importStatements.map(importStatement => importStatement).join(\"\\n\"))\n    cacheFileContent += `export const addGeneratedCacheKeys = () => {\n  ${cacheKeys.map(cacheKey => `add${capitalize(cacheKey)}CacheKeys()`).join(\"\\n\")}\n}\\n`\n\n    fs.writeFileSync(`${endpointsPath}/generated-cache-keys.ts`, cacheFileContent, { encoding: \"utf8\" })\n    console.info(`Generated ${endpointsPath}/generated-cache-keys.ts`)\n  }\n}\n","import fs from \"fs\";\nimport path from \"path\";\nimport { walk } from \"../utils\";\nimport { Command } from \"clipanion\";\n\nexport class GenerateEntityIndexFile extends Command {\n  static paths = [[\"generate-entity-index-file\"]]\n\n  static usage = Command.Usage({\n    category: \"generators\",\n    description: \"This script will generate index file for the model library.\",\n    examples: [[\"A basic example\", \"npm run stator-cli generate-entity-index-file\"]],\n  })\n\n  async execute(): Promise<number | void> {\n    const entityIndexLockFilePath = path.join(__dirname, \"entity-index-hash.txt\")\n    const indexFilePath = path.join(__dirname, \"../libs/models/src/index.ts\")\n    const filePathsByFolder = {}\n\n    for await (const entry of walk(path.join(__dirname, \"../libs/models/src/lib\"), [])) {\n      const folder = entry.split(\"lib/\")[1].split(\"/\")[0]\n\n      if (!filePathsByFolder[folder]) {\n        filePathsByFolder[folder] = []\n      }\n      filePathsByFolder[folder].push(entry)\n    }\n\n    let indexFileContent = `/**\n * This file was automatically generated by generate-entity-index.js file\n * You can disable the automatic generation by removing the prepare section of the workspace.json file under api section\n */\\n\\n`\n\n    const sortedFolders = Object.entries(filePathsByFolder)\n      .sort()\n      .reduce((container, [key, value]) => ({ ...container, [key]: value }), {})\n    for (const [folder, filePaths] of Object.entries(sortedFolders)) {\n      indexFileContent += `// ${folder}\\n`\n      indexFileContent += getExportLinesFromFilePaths(filePaths)\n      indexFileContent += \"\\n\"\n    }\n\n    const entityIndexLockFileExists = fs.existsSync(entityIndexLockFilePath)\n    const existingEntityHash = parseInt(\n      entityIndexLockFileExists ? await fs.promises.readFile(entityIndexLockFilePath, { encoding: \"utf8\" }) : \"\"\n    )\n    const currentHash = hashCode(indexFileContent)\n    if (existingEntityHash !== currentHash) {\n      await fs.promises.writeFile(entityIndexLockFilePath, currentHash.toString(), { encoding: \"utf8\" })\n      await fs.promises.writeFile(indexFilePath, indexFileContent, { encoding: \"utf8\" })\n\n      console.info(\"Generated index file for shared entity library\")\n    }\n  }\n}\n\nfunction hashCode(str) {\n  let hash = 0\n  let i\n  let chr\n\n  for (i = 0; i < str.length; i++) {\n    chr = str.charCodeAt(i)\n    hash = (hash << 5) - hash + chr\n    hash |= 0 // Convert to 32bit integer\n  }\n  return hash\n}\n\nfunction getExportLinesFromFilePaths(filePaths) {\n  return filePaths\n    .sort()\n    .map(filePath => {\n      const relevantFilePath = filePath.split(\"src/\")[1].replace(\".ts\", \"\")\n\n      return `export * from \"./${relevantFilePath}\"\\n`\n    })\n    .join(\"\")\n}\n","import fs from \"fs\"\nimport path from \"path\"\n\nimport { Command, Option } from \"clipanion\"\n\nimport { walk } from \"../utils\"\n\nexport class RenameProject extends Command {\n  static paths = [[\"rename-project\"]]\n  organization = Option.String(\"--organization\",{ required: true })\n  project = Option.String(\"--project\", { required: true })\n\n  static usage = Command.Usage({\n    category: \"getting-started\",\n    description: \"This script will rename all occurrences of stator and chocolat-chaud with your own names.\",\n    examples: [[\"A basic example\", \"npm run stator-cli rename-project --organization chocolat-chaud-io --project stator\"]],\n  })\n\n  async execute(): Promise<number | void> {\n    await this.renameProject()\n  }\n\n  async renameProject() {\n    try {\n      console.log(this.organization, this.project, __dirname)\n      const organizationRegex = /^[a-zA-Z-\\d_]+$/gim\n      if (!organizationRegex.test(this.organization)) {\n        console.error(\"The organization name must respect this regex /^[a-zA-Z-\\\\d_]+$/gmi\")\n        process.exit(1)\n      }\n\n      const projectRegex = /^[a-zA-Z-\\d_]+$/gim\n      if (!projectRegex.test(this.project)) {\n        console.error(\"The project name must respect this regex /^[a-zA-Z-\\\\d_]+$/gmi\")\n        process.exit(1)\n      }\n      const databaseName = this.project.replace(/-/g, \"_\")\n      const databaseFiles = [\"docker-compose.yml\", \"seed-data.js\", \"init.sql\", \"test.ts\", \"orm-config.ts\"]\n\n      const ignoredFolders = [\"node_modules\", \"dist\", \".git\", \".idea\", \".cache\"]\n      for await (const entry of walk(path.join(__dirname, \"../\"), ignoredFolders)) {\n        const entryStat = await fs.promises.lstat(entry)\n        if (entryStat.isFile()) {\n          const fileContent = await fs.promises.readFile(entry, \"utf-8\")\n          if (fileContent) {\n            const isDatabaseFile = databaseFiles.some(databaseFile => entry.includes(databaseFile))\n            const replacedFileContent = fileContent\n              .replace(/chocolat-chaud-io/gim, this.organization)\n              .replace(/stator/gim, isDatabaseFile ? databaseName : this.project)\n            await fs.promises.writeFile(entry, replacedFileContent, \"utf-8\")\n          }\n        }\n      }\n\n      console.info(`This is now YOUR project provided generously by:\n\n███████ ████████  █████  ████████  ██████  ██████ \n██         ██    ██   ██    ██    ██    ██ ██   ██ \n███████    ██    ███████    ██    ██    ██ ██████  \n     ██    ██    ██   ██    ██    ██    ██ ██   ██ \n███████    ██    ██   ██    ██     ██████  ██   ██ \n                                                   \n    `)\n    } catch (error) {\n      console.error(error as Error)\n    }\n  }\n}\n","import fs from \"fs\"\nimport path from \"path\"\n\nexport const walk = async function* (dir: string, ignoredPaths: Array<string>, walkedFolderNames: string[] = []) {\n  for await (const directoryEntry of await fs.promises.opendir(dir)) {\n    const entryPath = path.join(dir, directoryEntry.name)\n    if (directoryEntry.isDirectory() && !ignoredPaths.includes(directoryEntry.name)) {\n      walkedFolderNames.push(entryPath)\n      yield* walk(entryPath, ignoredPaths, walkedFolderNames)\n    } else if (directoryEntry.isFile()) {\n      yield entryPath\n    }\n  }\n}\n","module.exports = require(\"clipanion\");","module.exports = require(\"lodash/camelCase\");","module.exports = require(\"lodash/capitalize\");","module.exports = require(\"lodash/kebabCase\");","module.exports = require(\"tslib\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import { Builtins, Cli } from \"clipanion\"\n\nimport { EnforceFileFolderNamingConvention } from \"./commands/enforce-file-folder-naming-convention\"\nimport { EnforceValidImportsApi } from \"./commands/enforce-valid-imports-api\"\nimport { GenerateCacheKeyFile } from \"./commands/generate-cache-key-file\"\nimport { GenerateEntityIndexFile } from \"./commands/generate-entity-index-file\"\nimport { RenameProject } from \"./commands/rename-project\"\n\nconst [, , ...args] = process.argv\n\nconst cli = new Cli({\n  binaryLabel: `stator-cli`,\n  binaryName: `npm run stator-cli`,\n  binaryVersion: `1.0.0`,\n})\n\ncli.register(RenameProject)\ncli.register(GenerateCacheKeyFile)\ncli.register(GenerateEntityIndexFile)\ncli.register(EnforceValidImportsApi)\ncli.register(EnforceFileFolderNamingConvention)\ncli.register(Builtins.HelpCommand)\ncli.runExit(args).catch(console.error)\n"],"names":["EnforceFileFolderNamingConvention","Command","async","ignoredPaths","capitalLetterRegex","errorPathPaths","validateEntryName","entry","entryName","basename","replace","length","includes","match","push","folderNames","walk","join","__dirname","folderName","errorMessage","console","error","process","exit","info","paths","usage","Usage","category","description","examples","EnforceValidImportsApi","invalidImportRegex","fileContainingInvalidImports","promises","readFile","encoding","GenerateCacheKeyFile","endpointsPath","importStatements","cacheKeys","cacheFileContent","pathName","lstatSync","isFile","cacheKey","endpointsSelectorRegex","endpointSelectorRegex","endpointNames","readFileSync","matchAll","map","entries","flat","endpointName","tagPropertyKey","importStatement","writeFileSync","GenerateEntityIndexFile","entityIndexLockFilePath","indexFilePath","filePathsByFolder","folder","split","indexFileContent","sortedFolders","Object","sort","reduce","container","key","value","filePaths","getExportLinesFromFilePaths","entityIndexLockFileExists","existsSync","existingEntityHash","parseInt","currentHash","str","i","chr","hash","charCodeAt","hashCode","writeFile","toString","filePath","RenameProject","organization","Option","String","required","project","this","renameProject","log","test","databaseName","databaseFiles","ignoredFolders","lstat","fileContent","isDatabaseFile","some","databaseFile","replacedFileContent","dir","walkedFolderNames","directoryEntry","opendir","entryPath","name","isDirectory","module","exports","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","args","argv","cli","Cli","binaryLabel","binaryName","binaryVersion","register","Builtins","HelpCommand","runExit","catch"],"sourceRoot":""}